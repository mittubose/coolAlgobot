# Scalping Bot Configuration File
# Fill in the required values before running the bot

broker:
  name: zerodha
  api_key: YOUR_API_KEY_HERE  # Get from https://kite.trade/docs/connect/v3/
  redirect_url: http://localhost:8080/callback

trading:
  mode: paper  # Options: paper, live (ALWAYS start with paper!)
  capital: 100000  # Starting capital in INR
  risk_per_trade_percent: 1.0  # Maximum risk per trade (1% recommended)
  max_positions: 3  # Maximum concurrent positions
  max_trades_per_day: 50  # Daily trade limit

  # Market hours (IST)
  market_open: "09:15"
  market_close: "15:30"
  auto_square_off_time: "15:20"  # Auto-close positions before market close

# Instruments to trade
instruments:
  - symbol: RELIANCE
    exchange: NSE
    lot_size: 1
    enabled: true

  - symbol: TCS
    exchange: NSE
    lot_size: 1
    enabled: true

  - symbol: INFY
    exchange: NSE
    lot_size: 1
    enabled: true

# Trading Strategies
strategies:
  # Strategy 1: EMA Crossover + RSI Filter
  - name: ema_rsi
    enabled: true
    description: "EMA crossover with RSI confirmation"
    params:
      fast_ema: 9
      slow_ema: 21
      rsi_period: 14
      rsi_min: 40
      rsi_max: 60
      volume_multiplier: 1.2  # Entry requires volume > 1.2x average
      target_percent: 0.8
      stoploss_percent: 0.4
      trailing_stop_trigger: 0.3
      max_hold_time_minutes: 5

  # Strategy 2: Bollinger Bands Breakout
  - name: bb_breakout
    enabled: false  # Disabled by default
    description: "Bollinger Bands breakout with RSI confirmation"
    params:
      bb_period: 20
      bb_std: 2.0
      rsi_period: 14
      rsi_breakout_long: 60
      rsi_breakout_short: 40
      target_atr_mult: 1.5
      stoploss_atr_mult: 1.0
      atr_period: 14

# Risk Management
risk:
  # Daily limits
  max_daily_loss_percent: 2.0  # Stop trading if daily loss exceeds 2%
  max_position_size_percent: 25.0  # Maximum exposure per position

  # Circuit breakers (auto-halt trading)
  circuit_breaker:
    consecutive_losses: 3  # Halt after 3 consecutive losses
    api_errors_per_minute: 10  # Halt if API errors exceed threshold
    abnormal_slippage_percent: 0.5  # Halt if slippage exceeds 0.5%

  # Position sizing
  position_sizing_method: fixed_risk  # Options: fixed_risk, fixed_amount

  # Stop-loss settings
  stop_loss_type: percentage  # Options: percentage, atr, trailing
  mandatory_stop_loss: true  # Never trade without stop-loss

# Logging Configuration
logging:
  level: INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: json  # Options: json, text
  rotation: daily  # Options: daily, size
  max_file_size_mb: 100
  backup_count: 30  # Keep last 30 log files

  # Log files
  files:
    system: logs/system.log
    trades: logs/trades.log
    errors: logs/errors.log
    signals: logs/signals.log

# Alerts Configuration
alerts:
  telegram:
    enabled: false  # Set to true after configuring bot
    bot_token: YOUR_TELEGRAM_BOT_TOKEN
    chat_id: YOUR_TELEGRAM_CHAT_ID

    # Alert triggers
    send_on_trade: true
    send_on_error: true
    send_on_daily_loss_warning: true
    send_daily_summary: true

  email:
    enabled: false
    smtp_server: smtp.gmail.com
    smtp_port: 587
    use_tls: true
    from_email: your_email@gmail.com
    to_email: your_email@gmail.com
    password: YOUR_EMAIL_APP_PASSWORD

# Dashboard Configuration
dashboard:
  enabled: true
  host: 0.0.0.0  # Listen on all interfaces
  port: 8050
  refresh_rate: 1  # Update frequency in seconds
  authentication:
    enabled: false  # Set to true for password protection
    username: admin
    password: admin123  # CHANGE THIS!

# Database Configuration
database:
  type: sqlite  # Options: sqlite, postgresql
  path: data/trading.db

  # For PostgreSQL (optional)
  # host: localhost
  # port: 5432
  # database: trading
  # username: postgres
  # password: YOUR_DB_PASSWORD

# Backtesting Configuration
backtesting:
  enabled: false
  start_date: "2024-01-01"
  end_date: "2024-12-31"
  initial_cash: 100000
  commission: 0.0003  # 0.03% brokerage
  slippage: 0.0005  # 0.05% slippage

# SEBI Compliance
compliance:
  algo_id: ""  # Unique algorithm ID (obtain from exchange)
  static_ip: ""  # Your static IP address
  audit_trail_retention_years: 5

# Advanced Settings (Don't modify unless you know what you're doing)
advanced:
  order_rate_limit: 1  # Max orders per second
  websocket_reconnect_attempts: 5
  websocket_reconnect_delay: 5  # seconds
  api_timeout: 30  # seconds
  tick_buffer_size: 500  # Number of ticks to store in memory
